%h1 Program

.program
  .titles
    .main_title
      = @program.name
      - unless @program.year.blank?
        = "(#{@program.year})"
    .alternate_titles
      = @program.alternate_titles.map(&:name).join(', ')
  .program_info
    = display_length @program.minutes
    = @program.version
  - if @program.program_version_cluster.present?
    .cluster
      = link_to 'part of cluster', program_version_cluster_path(@program.program_version_cluster.id)
      with
      - @program.program_version_cluster.programs.each do |p|
        - unless p.version == @program.version
          = link_to p.version, program_path(p.id)
  - if @program.directors.any?
    .directors
      .label
        = 'Director'.pluralize(@program.directors.count)
      .values
        = raw @program.directors.map{|d| link_to d.name, director_path(d)}.join(', ')
  - if @program.series.any?
    .series
      .label
        Series
      .values
        = raw @program.series.map{|s| link_to s.name, series_path(s) }.join(', ')

.footer-links
  = link_to "Program List", programs_url(page: @page, search: @search), {class: 'btn btn-primary'}
  = link_to "Edit", edit_program_path(@program, page: @page, search: @search), {class: 'btn btn-secondary'}