%h1 Disc

.disc
  .name
    = @disc.display_name
  .format
    = @disc.format
  .state
    = @disc.state
    = "(#{@disc.location.name})"
  - unless @disc.package.nil?
    = "Part of #{@disc.package.name}"
    = raw "(#{link_to 'show', package_path(@disc.package)})"

  .disc_programs
    = 'No Programs Listed' if @disc.disc_programs.empty?
    - @disc.disc_programs.each do |dp|
      .program
        %span.name
          = dp.program.name
        - unless dp.program.version.blank?
          %span.version
            = "(#{dp.program.version})"
        %span.type
          = dp.program_type
        (#{link_to 'show', program_path(dp.program)})
.footer-links
  = link_to "Disc List", discs_url(page: @page, search: @search), {class: 'btn btn-primary'}
  - if @allow_new
    = link_to 'New Disc', new_disc_url, {class: 'btn btn-secondary'}
  = link_to "Edit", edit_disc_path(@disc, page: @page, search: @search), {class: 'btn btn-secondary'}